function showError(e){const t=e.parentElement.querySelector(".error-message");t&&t.classList.add("show"),e.classList.add("error")}function hideError(e){const t=e.parentElement.querySelector(".error-message");t&&t.classList.remove("show"),e.classList.remove("error")}function validateInput(e){return e.value.trim()?(hideError(e),!0):(showError(e),!1)}function setupLiveValidation(){["bookingDate","duration","purpose"].forEach((e=>{const t=document.getElementById(e);t.addEventListener("input",(()=>validateInput(t))),t.addEventListener("change",(()=>validateInput(t)))}))}function handleDateChange(){const e=document.getElementById("bookingDate");if(e){const t=e.value,n=new URL(window.location.href);n.searchParams.set("date",t),window.location.href=n.toString()}}function handleBookingSubmit(e){e.preventDefault();const t=document.getElementById("bookingDate"),n=document.getElementById("duration"),o=document.getElementById("purpose");let d=!0;if(d=validateInput(t)&&d,d=validateInput(n)&&d,d=validateInput(o)&&d,!d){const e=document.getElementById("unsuccessPopup");return void(e&&(e.style.display="flex"))}const s=document.getElementById("successPopup");s&&(s.style.display="flex")}document.addEventListener("DOMContentLoaded",(()=>{setupLiveValidation();const e=document.getElementById("bookingDate");if(e){const t=(new Date).toISOString().split("T")[0];e.setAttribute("min",t);const n=new URLSearchParams(window.location.search).get("date");e.value=n||t,e.addEventListener("change",handleDateChange)}const t=document.querySelector(".btn-cancel");t&&t.addEventListener("click",(()=>{window.location.href="/dashboard"}));const n=document.querySelector(".btn-submit");n&&n.addEventListener("click",handleBookingSubmit);const o=document.getElementById("popupOkBtn");o&&o.addEventListener("click",(()=>{const e=document.getElementById("bookingForm");e&&e.submit()}));const d=document.getElementById("unsuccessOkBtn");d&&d.addEventListener("click",(()=>{const e=document.getElementById("unsuccessPopup");e&&(e.style.display="none")}))}));
