document.getElementById("loginForm").addEventListener("submit",(async function(e){e.preventDefault();const t=document.getElementById("email").value,n=document.getElementById("password").value,o=document.getElementById("msg");try{const e=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t,password:n})}),a=await e.json();e.ok?"admin"===a.role?window.location.href="/admin":window.location.href="/dashboard":(o.textContent=a.message,o.style.color="red")}catch(e){console.error("Error:",e),alert("Terjadi kesalahan pada server.")}}));